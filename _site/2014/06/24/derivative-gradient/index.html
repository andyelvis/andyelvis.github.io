<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="andyelvis" />
    <title>方向导数和梯度 | andyelvis</title>
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/media/css/style.css">
    <link rel="stylesheet" href="/media/css/highlight.css">
    <script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
	<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>
  <script type="text/javascript">
    function setTimeSpan(){
    	var date = new Date();
    	timeSpan.innerText=date.format('yyyy-MM-dd hh:mm:ss');
    }
    
    Date.prototype.format = function(format)
		{
    var o =
    	{
    	    "M+" : this.getMonth()+1, //month
    	    "d+" : this.getDate(),    //day
    	    "h+" : this.getHours(),   //hour
    	    "m+" : this.getMinutes(), //minute
    	    "s+" : this.getSeconds(), //second
    	    "q+" : Math.floor((this.getMonth()+3)/3),  //quarter
    	    "S" : this.getMilliseconds() //millisecond
    	}
    	if(/(y+)/.test(format))
    	format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4 - RegExp.$1.length));
    	for(var k in o)
    	if(new RegExp("("+ k +")").test(format))
    	format = format.replace(RegExp.$1,RegExp.$1.length==1 ? o[k] : ("00"+ o[k]).substr((""+ o[k]).length));
    	return format;
		}
  </script>
  <body onLoad="setInterval(setTimeSpan,1000);">
    <div id="container">
      <div id="main" role="main">
        <header>
        <h1>方向导数和梯度</h1>
        </header>
        <nav>
        <span><a title="home page" class="" href="/">Home</a></span>
        <span><a title="about" class="" href="/about/">About</a></span>
        <span><a title="guestbook" class="" href="/guestbook/">Guestbook</a></span>
        <span><a title="categories" class="" href="/categories/">Categories</a></span>
        <span><a title="tags" class="" href="/tags/">Tags</a></span>
        <span><a title="links" class="" href="/links/">Links</a></span>
        </nav>
        <article class="content">
        <section class="post">
<h2 id="section">方向导数</h2>

<p>在微积分课程中，函数在某一点的导数代表了函数在该点的变化率。
微分和积分，它们的定义都是建立在极限的基础上。
对于单变量函数$f(x)$，它在$x_0$处导数是：函数的改变量与自变量的改变量比值的极限。</p>

<script type="math/tex; mode=display">
f'(x_0)=\lim_{\Delta x \to 0}\frac{f(x_0 + \Delta x)-f(x_0)}{\Delta x}
</script>

<p>对于单变量函数，自变量只有一个，当$x$趋近于$x_0$时只能在直线上变动，移动的方向只有左右两方。</p>

<p>然而，对于多变量函数，自变量有多个，表示自变量的点在一个区域内变动，不仅可以移动距离，而且可以按任意的方向来移动同一段距离。
因此，函数的变化不仅与移动的距离有关，而且与移动的方向有关。函数的变化率是与方向有关的。
这也才有了方向导数的定义，即某一点在某一趋近方向上的到数值。
假设给定函数$u=u(M)$，取一点$M_0=(x_0,y_0,z_0)$，L是$M_0$出发的任一半直线，则u在$M_0$点L的方向导数定义为：</p>

<script type="math/tex; mode=display">
(\frac{\partial u}{\partial L})_{M_0}=\lim_{M \to M_0}_{M \in L}\frac{u(M)-u(M_0)}{|MM_0|}
</script>

<hr />

<h2 id="section-1">梯度</h2>

<p>有了方向导数的定义，进一步来推导方向导数的表示。假设L的方向余弦为$(\cos\alpha,\cos\beta,\cos\gamma)$，则L上的M可以表示为：</p>

<script type="math/tex; mode=display">
x=x_0+t\cos\alpha, y=y_0+t\cos\beta,z=z_0+t\cos\gamma
</script>

<script type="math/tex; mode=display">
t=|MM_0|
</script>

<p>于是u对L的方向导数为：</p>

<script type="math/tex; mode=display">% <![CDATA[

\begin{align*}
(\frac{\partial u}{\partial L})_{M_0}=&\lim_{t \to 0}\frac{\Delta u}{t}\\
=&\lim_{t \to 0}\frac{\frac{\partial u}{\partial x} \Delta x + \frac{\partial u}{\partial y} \Delta y + \frac{\partial u}{\partial z} \Delta z + o(t)}{t}\\
=&\lim_{t \to 0}\frac{t(\frac{\partial u}{\partial x} \cos\alpha + \frac{\partial u}{\partial y} \cos\beta + \frac{\partial u}{\partial z} \cos\gamma) + o(t)}{t}\\
=&\frac{\partial u}{\partial x} \cos\alpha + \frac{\partial u}{\partial y} \cos\beta + \frac{\partial u}{\partial z} \cos\gamma
\end{align*}
 %]]></script>

<p>设向量$\overrightarrow{n}=(\frac{\partial u}{\partial x},\frac{\partial u}{\partial y},\frac{\partial u}{\partial z})$，
L方向可以表示为$\overrightarrow{l}=(\cos\alpha,\cos\beta,\cos\gamma)$。因为l是一个单位向量，所以：</p>

<script type="math/tex; mode=display">
(\frac{\partial u}{\partial L})_{M_0}=n \cdot l=|n|\cos \theta
</script>

<p>这表示了L上的方向向量其实是n在L方向上的投影。当L的方向变化，投影量随之改变，也就代表了不同的方向导数。
当L与n同向时，$(\frac{\partial u}{\partial L})_{M_0}$便取得最大值|n|，我们称n为u在该点的梯度。
可以看到梯度即是某一点最大的方向导数，沿梯度方向函数有最大的变化率（正向增加，逆向减少）。</p>

</section>
<section class="meta">

<br/>
<br/>
<span>
	<a  href="/2014/06/16/logistic-regression-introduction/" class="pageNav"  >Previous</a>
	&nbsp;&nbsp;&nbsp;
	<a   class="pageNavInvalid"  >Next</a>
</span>
<hr>
<span class="author">
  <a href="http://andyelvis.github.io">andyelvis</a>
</span>
<span class="time">
  /
  <time datetime="2014-06-24">2014-06-24</time>
</span>
<br />
<span class="license">
  Published under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">(CC) BY-NC-SA</a>
</span>

<span class="categories">
  in categories
  
  <a href="/categories/#machine learning" title="machine learning">machine learning</a>&nbsp;
  
</span>


<span class="tags">
  tagged with 
  
  <a href="/tags/#gradient" title="gradient">gradient</a>&nbsp;
  
</span>

</section>
<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"andyelvis"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->


        </article>
      </div>

    <footer>
        <p><small>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> & <a href="http://pages.github.com">GitHub</a> | Copyright 2014 - 2014 by <a href="/about/">andyelvis</a> | <span class="label label-info" id="timeSpan"></span></small></p>
    </footer>

    </div>
	
  </body>
</html>
